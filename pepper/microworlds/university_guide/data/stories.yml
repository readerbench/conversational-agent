version: "3.0"

stories:
  - story: find professor
    steps:
      - intent: university_guide.find_professor
      - action: action_find_professor

  - story: find room
    steps:
      - intent: university_guide.find_room
      - action: action_find_room

rules:
  - rule: find schedule start
    steps:
      - intent: university_guide.find_schedule  # intent that triggers form activation
      - action: find_schedule_params_form  # run the form
      - active_loop: find_schedule_params_form  # this form is active

  - rule: find schedule submit
    condition:
      - active_loop: find_schedule_params_form  # this form must be active
    steps:
      - action: find_schedule_params_form
      - active_loop: null  # the form is no longer active because it has been filled
      - action: action_find_schedule